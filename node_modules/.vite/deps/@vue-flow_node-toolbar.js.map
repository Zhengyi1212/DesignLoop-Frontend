{
  "version": 3,
  "sources": ["../../@vue-flow/node-toolbar/dist/vue-flow-node-toolbar.mjs"],
  "sourcesContent": ["import { defineComponent, inject, computed, openBlock, createBlock, Teleport, unref, createElementBlock, mergeProps, renderSlot, createCommentVNode } from \"vue\";\nimport { Position, NodeIdInjection, useVueFlow, getRectOfNodes } from \"@vue-flow/core\";\nconst __default__ = {\n  name: \"NodeToolbar\",\n  compatConfig: { MODE: 3 },\n  inheritAttrs: false\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    nodeId: {},\n    isVisible: { type: Boolean, default: void 0 },\n    position: { default: Position.Top },\n    offset: { default: 10 },\n    align: { default: \"center\" }\n  },\n  setup(__props) {\n    const props = __props;\n    const contextNodeId = inject(NodeIdInjection, null);\n    const { viewportRef, viewport, getSelectedNodes, findNode } = useVueFlow();\n    const nodes = computed(() => {\n      const nodeIds = Array.isArray(props.nodeId) ? props.nodeId : [props.nodeId || contextNodeId || \"\"];\n      return nodeIds.reduce((acc, id) => {\n        const node = findNode(id);\n        if (node) {\n          acc.push(node);\n        }\n        return acc;\n      }, []);\n    });\n    const isActive = computed(\n      () => typeof props.isVisible === \"boolean\" ? props.isVisible : nodes.value.length === 1 && nodes.value[0].selected && getSelectedNodes.value.length === 1\n    );\n    const nodeRect = computed(() => getRectOfNodes(nodes.value));\n    const zIndex = computed(() => Math.max(...nodes.value.map((node) => (node.computedPosition.z || 1) + 1)));\n    const wrapperStyle = computed(() => ({\n      position: \"absolute\",\n      transform: getTransform(nodeRect.value, viewport.value, props.position, props.offset, props.align),\n      zIndex: zIndex.value\n    }));\n    function getTransform(nodeRect2, transform, position, offset, align) {\n      let alignmentOffset = 0.5;\n      if (align === \"start\") {\n        alignmentOffset = 0;\n      } else if (align === \"end\") {\n        alignmentOffset = 1;\n      }\n      let pos = [\n        (nodeRect2.x + nodeRect2.width * alignmentOffset) * transform.zoom + transform.x,\n        nodeRect2.y * transform.zoom + transform.y - offset\n      ];\n      let shift = [-100 * alignmentOffset, -100];\n      switch (position) {\n        case Position.Right:\n          pos = [\n            (nodeRect2.x + nodeRect2.width) * transform.zoom + transform.x + offset,\n            (nodeRect2.y + nodeRect2.height * alignmentOffset) * transform.zoom + transform.y\n          ];\n          shift = [0, -100 * alignmentOffset];\n          break;\n        case Position.Bottom:\n          pos[1] = (nodeRect2.y + nodeRect2.height) * transform.zoom + transform.y + offset;\n          shift[1] = 0;\n          break;\n        case Position.Left:\n          pos = [\n            nodeRect2.x * transform.zoom + transform.x - offset,\n            (nodeRect2.y + nodeRect2.height * alignmentOffset) * transform.zoom + transform.y\n          ];\n          shift = [-100, -100 * alignmentOffset];\n          break;\n      }\n      return `translate(${pos[0]}px, ${pos[1]}px) translate(${shift[0]}%, ${shift[1]}%)`;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(Teleport, {\n        to: unref(viewportRef),\n        disabled: !unref(viewportRef)\n      }, [\n        isActive.value && nodes.value.length ? (openBlock(), createElementBlock(\"div\", mergeProps({ key: 0 }, _ctx.$attrs, {\n          style: wrapperStyle.value,\n          class: \"vue-flow__node-toolbar\"\n        }), [\n          renderSlot(_ctx.$slots, \"default\")\n        ], 16)) : createCommentVNode(\"\", true)\n      ], 8, [\"to\", \"disabled\"]);\n    };\n  }\n});\nexport {\n  _sfc_main as NodeToolbar\n};\n"],
  "mappings": "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",
  "names": []
}
